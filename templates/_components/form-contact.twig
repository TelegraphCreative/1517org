{#
Notes:

- Form needs validation for required fields and email 

- In the backend setup theses plugins: 
- [Contact Form Extensions](https://plugins.craftcms.com/contact-form-extensions): Saves submissions to database and sends notifications
- [Craft Contact Form](https://github.com/craftcms/contact-form): Standard Craft contact form supports ajax submissions

- lindsey: The form errors and details below need some tweakingâ€”just took a stab at it a real quick first pass.
#}

{% macro errorList(errors) %}
    {% if errors %}
        <ul class="errors">
            {% for error in errors %}
                <li>{{ error }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endmacro %}

{% from _self import errorList %}


<contact_form method="post" action="" accept-charset="UTF-8" class="form-base"
    :formaction="'contact-form/send'"
    :mcid="'8a954ea73c'"
    :mcuser="'6ab7472048d4ea9ba49aa23e8'"
    :mcurl="'wearetelegraph.us5'"
    :signuplocation="'footer-subscribe-form'"
    :signuptitle="'Subscribe to 1517 eNewsletter'"
    :confirmationtitle="'Success!'"
    :confirmationdetail="'Thanks for signing up.'">

    <template v-slot:main>  

        {% macro errorList(errors) %}
            {% if errors %}
                <ul class="errors">
                    {% for error in errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endmacro %}

        {% from _self import errorList %}

        {{ csrfInput() }}
        <input type="hidden" name="action" value="contact-form/send">
        {{ redirectInput('contact?status=success') }}

        
        {# Full Name #}
        <div class="form-group">
            <div class="field-group | w-1/2">
                <label class="standard-label" for="firstName">
                    First Name
                </label>
                <input type="text" id="firstName" name="message[firstName]" value="{{ message.message.firstName ?? '' }}"/>
            </div>
            <div class="field-group | w-1/2">
                <label class="standard-label" for="lastName">
                    Last Name
                </label>
                <input type="text" id="lastName" name="message[lastName]" value="{{ message.message.lastName ?? '' }}"/>
            </div>
        </div>

        {# Email #}
        <div class="form-group">
            <div class="field-group | w-full">

                <label class="standard-label" for="email">
                    Email Address
                </label>
                <input type="email" id="email" name="fromEmail" required value="{{ message.fromEmail ?? '' }}"/>

            </div>
        </div>

        {# Message #}
        <div class="form-group">
            <div class="field-group | w-full">

                <label class="standard-label" for="message">
                    Message
                </label>
                <textarea id="message" name="message" required rows="6">{{ message.message ?? '' }}</textarea>

            </div>
        </div>

        <div class="form-submit">
            <button type="submit" class="btn -full -red">Submit Form</button>
        </div>

    </template>

</contact_form>
