{% import '_macros/global' as global %} 

{% set steps = [
    {
        label: "Email",
        url: 'shop/checkout'
    },
    {
        label: "Account",
        url: 'shop/checkout/register-signin'
    },
    {
        label: "Address",
        url: 'shop/checkout/addresses'
    },
    {
        label: "Shipping",
        url: 'shop/checkout/shipping'
    },
    {
        label: "Payment",
        url: 'shop/checkout/payment'
    }
] %}

{% if width is not defined %}
    {% set width = 0 %}
{% endif %}

<div class="steps | container gutter bg-ivory-lightest py-8">
    <div class="flex flex-wrap justify-between items-center">
        <a href="/" class="steps_logo | site-menu__logo | flex items-center">
            <div class="brand | px-4 | md:pl-0">
                {{ global.brandIcon('logo') }}
            </div>
            {# {% if siteInfo.siteTagline | length %}
            <span class="site-tagline">
                {{ siteInfo.siteTagline }}
            </span>
            {% endif %} #}
        </a>


        <ul class="steps_menu list-reset flex flex-wrap justify-start">
            {% for key, step in steps %}

                {% set class = 'meta-label text-bronze-lighter' %}
                {% if craft.app.request.pathInfo == step.url %}
                    {% set width = ((key + 1) * 100 / steps|length) - 20 %}
                    {% set class = "sel | text-bronze-dark | meta-label px-3" %}
                    {% set currentStep = key %}
                {% endif %}

                {% if currentStep is not defined %}
                    {% set class = "done  | meta-label px-3 | text-bronze-lighter" %}
                {% endif %}

                <li class="{{ class }}"><a class="meta-label | px-3" href="{{ url( step.url ) }}">{{ step.label }}</a></li>
            {% endfor %}
        </ul>
    </div>
    

    
</div>
