{% extends "_layouts/_base" %} 
{% import '_macros/global' as global %}

{% block content %}

  
    {# Article + Aside (top) #}
    {# <div class="entry-detail-layout | container | space-b space-menu | flex-grid">

        Content
        <article class="entry-main | gutter-xl">
        
            Header
            <header class="entry__header">
                <h1 class="header-xl | font-serif">{{ entry.title }}</h1>
            </header>
           
        </article>
    </div> #}


    {# Test User Registration Form #}

    <div class="space-menu container-xs gutter space-b">
        <section>
            <h2 class="mt-10 border-t border-ivory-light pt-10">User Registration (basic test)</h2>
            <form method="post" accept-charset="UTF-8" class="form-base">
                {{ csrfInput() }}
                <input type="hidden" name="action" value="users/save-user">
                {{ redirectInput('') }}
        
                {% macro errorList(errors) %}
                {% if errors %}
                <ul class="errors">
                    {% for error in errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
                {% endmacro %}
        
                {% from _self import errorList %}
        
                <h3><label for="username">Username</label></h3>
                <input id="username" type="text" name="username" {%- if user is defined %} value="{{ user.username }}"
                    {% endif -%}>
        
                {% if user is defined %}
                {{ errorList(user.getErrors('username')) }}
                {% endif %}
        
                <h3><label for="email">Email</label></h3>
                <input id="email" type="text" name="email" {%- if user is defined %} value="{{ user.email }}" {% endif %}>
        
                {% if user is defined %}
                {{ errorList(user.getErrors('email')) }}
                {% endif %}
        
                <h3><label for="password">Password</label></h3>
                <input id="password" type="password" name="password">
        
                {% if user is defined %}
                {{ errorList(user.getErrors('password')) }}
                {% endif %}
        
                <input type="submit" value="Register">
            </form>
        </section>
        
        
        {# Login Form #}
        <section>
            <h2 class="mt-10 border-t border-ivory-light pt-10">Login Form</h2>
            <form method="post" accept-charset="UTF-8" class="form-base">
                {{ csrfInput() }}
                <input type="hidden" name="action" value="users/login">
                {{ redirectInput('courses') }}
                <h3><label for="loginName">Username or email</label></h3>
                <input id="loginName" type="text" name="loginName" value="{{ craft.app.user.rememberedUsername }}">
        
                <h3><label for="password">Password</label></h3>
                <input id="password" type="password" name="password">
        
                <label>
                    <input type="checkbox" name="rememberMe" value="1">
                    Remember me
                </label>
        
                <input type="submit" value="Login">
        
                {% if errorMessage is defined %}
                <p>{{ errorMessage }}</p>
                {% endif %}
            </form>
        
            <p><a href="{{ url('forgotpassword') }}">Forget your password?</a></p>
        </section>
        
        
        
        {# Forgot Password Form #}
        <section>
        
            <h2 class="mt-10 border-t border-ivory-light pt-10">Forgot Password Form</h2>
            <form method="post" accept-charset="UTF-8" class="form-base">
                {{ csrfInput() }}
                <input type="hidden" name="action" value="users/send-password-reset-email">
                {{ redirectInput( craft.app.request.url ) }}
                <h3><label for="loginName">Username or email</label></h3>
                <input id="loginName" type="text" name="loginName"
                    value="{% if loginName is defined %}{{ loginName }}{% else %}{{ craft.app.user.rememberedUsername }}{% endif %}">
        
                {% if errors is defined %}
                <ul class="errors">
                    {% for error in errors %}
                    <li>{{ error }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
        
                <input type="submit" value="Submit">
            </form>
        
        </section>
    </div>

{% endblock %}